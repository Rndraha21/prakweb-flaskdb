{% extends 'layoutDashboard.html' %} {% block title %} {% endblock %} {% block
content %}

<div class="detail-container">
  <div class="profile-grid">
    <div class="profile">
      {% if data[8].startswith('http') %}
      <img
        src="{{ data[8] }}"
        alt="{{ data[1] }}"
        class="rounded-circle img-fluid"
        style="width: 150px; height: 150px; object-fit: cover"
      />
      {% else %}
      <img
        src="{{ url_for('static', filename='uploads/' + data[8]) }}"
        alt="{{ data[1] }}"
        class="rounded-circle img-fluid"
        style="width: 150px; height: 150px; object-fit: cover"
      />
      {% endif %}
    </div>
    <div>
      <h3 class="mb-0 text-center">{{ data[1] }}</h3>
      <p class="text-center text-secondary mb-4">{{ data[2] }}</p>
      <h5 class="mb-2 text-center text-secondary">{{ data[3] }}</h5>
      <p class="mb-4 text-center text-secondary">{{ data[6] }}</p>
    </div>
  </div>

  <div class="detail-grid">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h5 class="m-0 fw-bold">Edit Informasi Pribadi</h5>
      <div>
        <span class="badge" style="background: var(--background-sidebar)"
          >{{ data[11] }}</span
        >
      </div>
    </div>

    <div class="detail-edit">
      {% macro showerror(field) -%} {% if field.errors %} {% for err in
      field.errors %}
      <span style="color: #ff6347; font-size: 12px">{{ err }}</span>
      {% endfor %} {% endif %} {%- endmacro %}

      <form
        action="{{ url_for('edit_data', nip=data[0]) }}"
        method="POST"
        novalidate
      >
        {{ form.hidden_tag() }}
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label class="form-label"> Departemen</label>
              {{ form.departemen(class="form-select") }} {{
              showerror(form.departemen) }}
            </div>
            <div class="mb-3">
              <label class="form-label"> Jabatan</label>
              {{ form.jabatan(class="form-select") }} {{ showerror(form.jabatan)
              }}
            </div>
          </div>

          <div class="col-md-6">
            <div class="mb-3">
              <label class="form-label"> Email</label>
              {{ form.email(class="form-control") }} {{ showerror(form.email) }}
            </div>
            <div class="mb-3">
              <label class="form-label"> No. HP</label>
              {{ form.no_hp(class="form-control") }} {{ showerror(form.no_hp) }}
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Alamat</label>
          {{ form.alamat(class="form-control") }} {{ showerror(form.alamat) }}
        </div>
        <button type="submit" class="btn btn-primary">Simpan Perubahan</button>
      </form>
    </div>
  </div>
</div>

{% endblock %}
