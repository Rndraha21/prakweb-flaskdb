{% extends 'layoutDashboard.html' %} {% block title %} Karyawan {% endblock %}
{% block content %}
<div class="container-search-karyawan">
  <h5>Data-data Karyawan</h5>
  <form
    action="{{ url_for('search_karyawan') }}"
    method="GET"
    class="search-form"
  >
    <div class="d-flex align-items-center">
      <input
        type="search"
        class="search"
        placeholder="Cari berdasarkan nama atau jabatan"
        name="karyawan"
        autocomplete="off"
      />
      <button type="submit">
        <i data-feather="search" class="text-secondary"></i>
      </button>
    </div>
  </form>
</div>
<table id="table-karyawan">
  <thead>
    <tr>
      <th>NIP</th>
      <th>Nama</th>
      <th class="jenis-kelamin">Jenis Kelamin</th>
      <th class="tanggal-bergabung">Tanggal Bergabung</th>
      <th>Jabatan</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    {% for d in data %}
    <tr>
      <td>{{ d[0] }}</td>
      <td><img src="{{ d[8] }}" alt="Foto {{ d[1] }}" />{{ d[1] }}</td>
      <td class="jenis-kelamin">{{ d[2] }}</td>
      <td class="tanggal-bergabung">{{ d[9].strftime('%d %B %Y') }}</td>
      <td>{{ d[3] }}</td>
      <td class="d-flex justify-content-center">
        <a
          href="{{ url_for('detail', nip=d[0]) }}"
          class="d-flex align-items-center justify-content-center text-center text-decoration-none badge rounded-pill text-bg-info gap-1 p-1"
          style="width: 80%"
          ><i data-feather="info" width="14px" class="icon-detail"></i>
          <span>Detail</span>
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<div class="pagination">
  {% if page > 1 %}
  <a
    href="{{ url_for('data_karyawan', page=page-1) }}"
    class="text-decoration-none"
    ><i data-feather="chevrons-left" width="0.8rem"></i><span>Prev</span></a
  >
  {% endif %} {% if total_pages > 1 %}
  <span>Halaman {{ page }} dari {{ total_pages }}</span>
  {% endif %} {% if page < total_pages %}
  <a
    href="{{ url_for('data_karyawan',  page=page+1) }}"
    class="text-decoration-none"
  >
    <span>Next</span><i data-feather="chevrons-right" width="0.8rem"></i
  ></a>
  {% endif %}
</div>
{% endblock %}
